dfsc1 <- eventReactive(input$click3, {
    if(online3() == "SQL") {
      print("Getting from data.world")
      query(
        data.world(propsfile = "www/.data.world"),
        dataset="tommywilczek/s-17-dv-final-project", type="sql",
        query="select deaths_clean.`Causes of Death` as causeof, Median_Age_Raw.`Median Age` as medianof, sum(deaths_clean.Count) as sum_count
        from deaths_clean inner join Median_Age_Raw on deaths_clean.`ZIP Code` = Median_Age_Raw.`Zip Code`
        group by deaths_clean.`Causes of Death`, Median_Age_Raw.`Median Age`"
      ) # %>% View()
    }
    else {
      print("Getting from csv")
      file_path = "www/SuperStoreOrders.csv"
      df <- readr::read_csv(file_path)
      df %>% dplyr::select(Sales, Profit, State) %>% dplyr::filter(State == 'Texas' | State == 'Florida') # %>% View()
    }
  })
  output$scatterData1 <- renderDataTable({DT::datatable(dfsc1(), rownames = FALSE,
                                                 extensions = list(Responsive = TRUE, 
                                                 FixedHeader = TRUE)
  )
  })
  output$scatterPlot1 <- renderPlotly({p <- ggplot(dfsc1()) + 
      theme(axis.text.x=element_text(angle=90, size=16, vjust=3)) + 
      theme(axis.text.y=element_text(size=16, hjust=0.5)) +
      geom_point(aes(x=medianof, y=sum_count, colour=causeof), size=2)
      ggplotly(p)
  })